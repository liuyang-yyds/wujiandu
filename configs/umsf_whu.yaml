# UMSF-Net Configuration for WHU-OPT-SAR Dataset
# Unsupervised Multi-Source Fusion Network for Land Cover Classification

# Model configuration
model:
  backbone: resnet50
  pretrained: true
  feature_dim: 2048
  projection_dim: 256
  num_classes: 7
  num_heads: 8
  dropout: 0.1
  # MoCo settings
  momentum: 0.999
  queue_size: 65536
  temperature: 0.07

# Data configuration
data:
  image_size: 256
  num_workers: 4
  # Normalization for optical images (ImageNet)
  optical_mean: [0.485, 0.456, 0.406]
  optical_std: [0.229, 0.224, 0.225]

# Training configuration
training:
  epochs: 200
  batch_size: 32
  
  optimizer:
    type: SGD
    lr: 0.03
    momentum: 0.9
    weight_decay: 0.0001
  
  scheduler:
    type: cosine
    warmup_epochs: 10
    min_lr: 0.000001
  
  contrastive:
    temperature: 0.07
    queue_size: 65536
    momentum: 0.999
  
  loss_weights:
    intra: 1.0
    cross: 1.0
    cluster: 0.5
    consistency: 0.5
  
  # Start clustering loss after this epoch
  clustering_start_epoch: 50
  
  # Use mixed precision training
  mixed_precision: true

# Evaluation configuration
evaluation:
  eval_interval: 5
  save_interval: 10
  metrics:
    - accuracy
    - nmi
    - ari
    - f1
  visualization:
    tsne: true
    confusion_matrix: true
    samples: 16

# Augmentation configuration
augmentation:
  # Random resized crop
  crop_scale: [0.2, 1.0]
  crop_ratio: [0.75, 1.33]
  
  # Color jitter (optical only)
  color_jitter:
    brightness: 0.4
    contrast: 0.4
    saturation: 0.4
    hue: 0.1
  
  # Gaussian blur
  gaussian_blur:
    kernel_size: 23
    sigma: [0.1, 2.0]
  
  # SAR speckle noise
  speckle_sigma: [0.05, 0.15]
